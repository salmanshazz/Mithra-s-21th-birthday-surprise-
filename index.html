<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Happy Birthday Mithra ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
<style>
/* --- RESET & BASICS --- */
:root {
  --primary: #ff8fa3;
  --secondary: #c988ff;
  --bg-dark: #120526;
  --glass: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  min-height: 100vh;
  background: radial-gradient(circle at center, #2b0f42, #120526);
  color: #fff;
  font-family: 'Nunito', sans-serif;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1000px;
}

/* --- BACKGROUND ANIMATION --- */
#canvas-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
}

/* --- SCREENS & TRANSITIONS --- */
.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: opacity 0.8s ease, transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  padding: 20px;
}

.hidden {
  opacity: 0;
  pointer-events: none;
  transform: scale(0.8) translateY(50px);
}

.active {
  opacity: 1;
  pointer-events: all;
  transform: scale(1) translateY(0);
}

/* --- GLASS CARD --- */
.glass-card {
  background: var(--glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  padding: 40px 30px;
  border-radius: 30px;
  text-align: center;
  box-shadow: 0 15px 35px rgba(0,0,0,0.5);
  max-width: 400px;
  width: 90%;
  position: relative;
  overflow: hidden;
}

.glass-card::before {
  content: '';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.1), transparent);
  transform: rotate(45deg);
  pointer-events: none;
}

/* --- TYPOGRAPHY --- */
h1, h2 {
  font-family: 'Sacramento', cursive;
  font-size: 3rem;
  background: linear-gradient(to right, #fff, #ffc3cf);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 10px;
  line-height: 1.2;
}

p {
  font-size: 1.1rem;
  color: #e0e0e0;
  line-height: 1.6;
}

/* --- BUTTONS --- */
.btn {
  margin-top: 25px;
  padding: 12px 40px;
  border: none;
  border-radius: 50px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: #fff;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 5px 20px rgba(255, 111, 174, 0.4);
  transition: 0.3s;
  position: relative;
  overflow: hidden;
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(255, 111, 174, 0.6);
}

.btn::after {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: 0.5s;
}

.btn:hover::after {
  left: 100%;
}

/* --- GIFT BOX ANIMATION --- */
.gift-box-container {
  cursor: pointer;
  margin-bottom: 20px;
}
.gift-box {
  font-size: 80px;
  animation: bounce 2s infinite;
  display: inline-block;
}
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}
.shake {
  animation: shake 0.5s infinite;
}
@keyframes shake {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(5deg); }
  75% { transform: rotate(-5deg); }
  100% { transform: rotate(0deg); }
}

/* ===== CLEAN REALISTIC CAKE ===== */

.cake-container {
  position: relative;
  width: 200px;
  height: 220px;
  margin: 20px auto;
}

/* Cake body */
.cake-main {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 110px;
  background: linear-gradient(to bottom, #4b2a1a, #2e160b);
  border-radius: 22px;
  box-shadow:
    inset 0 6px 0 rgba(255,255,255,0.05),
    0 15px 25px rgba(0,0,0,0.45);
}

/* Cream top */
.cake-icing {
  position: absolute;
  bottom: 90px;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 45px;
  background: #f7eadc;
  border-radius: 20px;
  z-index: 2;
}

/* Cream drip (center only ‚Äì clean look) */
.cake-icing::after {
  content: "";
  position: absolute;
  top: 28px;
  left: 50%;
  transform: translateX(-50%);
  width: 36px;
  height: 30px;
  background: #f7eadc;
  border-radius: 0 0 18px 18px;
}

/* Candle */
.candle {
  position: absolute;
  bottom: 125px;
  left: 50%;
  transform: translateX(-50%);
  width: 12px;
  height: 45px;
  background: linear-gradient(#fff, #ffd6dc);
  border-radius: 6px;
  z-index: 3;
}

/* Flame */
.flame {
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 22px;
  background: radial-gradient(
    ellipse at bottom,
    #fff3a0 0%,
    #ffb300 60%,
    #ff6a00 100%
  );
  border-radius: 50% 50% 40% 40%;
  box-shadow: 0 0 15px rgba(255,180,60,0.9);
  animation: flame-flicker 1s infinite;
  cursor: pointer;
}

.flame.out {
  opacity: 0;
  transform: translateX(-50%) scale(0.6);
  transition: 0.4s;
}

/* Flame animation */
@keyframes flame-flicker {
  0%, 100% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.15); }
}

/* Soft shadow under cake */
.cake-container::after {
  content: "";
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 150px;
  height: 18px;
  background: rgba(0,0,0,0.35);
  filter: blur(12px);
  border-radius: 50%;
}

/* --- PHOTOS --- */
.polaroid-container {
  position: relative;
  width: 280px;
  height: 350px;
  background: #fff;
  padding: 15px 15px 50px 15px;
  border-radius: 5px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  transform: rotate(-3deg);
  transition: all 0.5s ease;
}
.polaroid-container img {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: 3px;
  background: #eee;
}
.caption {
  position: absolute;
  bottom: 10px; left: 0; width: 100%;
  text-align: center;
  font-family: 'Sacramento', cursive;
  font-size: 1.8rem;
  color: #333;
}
/* Click effect for photos */
.polaroid-container:active {
  transform: scale(0.95) rotate(0deg);
}

/* --- MUSIC CONTROL --- */
.music-btn {
  position: fixed;
  top: 20px; right: 20px;
  width: 40px; height: 40px;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(5px);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 100;
  border: 1px solid rgba(255,255,255,0.3);
}

#count-num {
  font-size: 6rem;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}
/* Wish area */
.wish-area{
  margin-top:20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
}


/* Text styles */
.wish-title{
  font-size:1.2rem;
  margin-top:4px;
}

.wish-sub{
  font-size:0.95rem;
  opacity:0.85;
}

</style>
</head>
<body>

<canvas id="canvas-bg"></canvas>
<canvas id="canvas-confetti" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99"></canvas>

<div class="music-btn" onclick="toggleMusic()">üéµ</div>
<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mp3">
</audio>

<div id="screen-welcome" class="screen">
  <div class="glass-card">
    <div style="font-size: 50px; margin-bottom: 20px;">‚ú®</div>
    <h1>Hey Mithraa</h1>
    <p>A magical day has arrived...</p>
    <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 10px;">(Turn up your volume)</p>
   <button class="btn" onclick="startCountdown()">
  Start Journey
</button>
  </div>
</div>

<div id="screen-countdown" class="screen hidden">
  <div class="glass-card">
    <h1 id="count-num">3</h1>
    <p>Get ready‚Ä¶ ‚ú®</p>
  </div>
</div>

<div id="screen-gift" class="screen hidden">
  <div class="glass-card">
    <h2>A Surprise!</h2>
    <p>I found something precious for you.</p>
    <br>
    <div class="gift-box-container" onclick="openGift()">
      <div class="gift-box" id="giftbox">üéÅ</div>
    </div>
    <p style="font-size: 0.9rem; opacity: 0.7;">Tap to open</p>
  </div>
</div>

<div id="screen-cake" class="screen hidden">
  <div class="glass-card">
    <h2>Happy 21th B'day my Mithraüíï</h2>
   <div class="cake-container">
  <div class="cake-icing"></div>
  <div class="cake-main"></div>

  <div class="candle">
    <div class="flame" id="flame" onclick="blowCandle()"></div>
  </div>
</div>
    <div id="wish-text" class="wish-area">
  
 
  <p class="wish-title">Make a wish</p>
  <p class="wish-sub"><strong>Tap the flame</strong> to blow it out!</p>

</div>
  </div>
</div>

<div id="screen-letter" class="screen hidden">
  <div class="glass-card">
    <h1 style="font-size:2.5rem">My Dearest Mithraa</h1>
    <div id="typewriter" style="min-height: 120px; text-align: left; margin: 20px 0; font-style: italic;"></div>
    <button class="btn" onclick="goTo('screen-gallery')">See Memories üì∏</button>
  </div>
</div>

<div id="screen-gallery" class="screen hidden">
  <div class="polaroid-container" onclick="nextPhoto()">
    <img id="photo-img" src="photo1.jpg" alt="Memory">
    <div class="caption" id="photo-caption">Mithraa üåù</div>
  </div>
  <p style="margin-top: 30px; opacity: 0.7;">Tap the photo for next</p>
</div>

<div id="screen-end" class="screen hidden">
  <div class="glass-card">
    <h1>Thank you ‚ù§Ô∏è</h1>
    <p>Thank you for watching this little surprise till the end.
    I hope this brought a smile to your face and warmth to your heart.üå∏‚ú®</p>
    <button class="btn" onclick="location.reload()">Replay</button>
  </div>
</div>

<script>
/* --- CONFIGURATION --- */
const photos = [
  { src: "photo1.jpg", text: "Mithraa üåù" },
  { src: "photo2.jpg", text: "My girlüíú" },
  { src: "photo3.jpg", text: "my dear ü´Ç" },
  { src: "photo4.jpg", text: "Happy Birthday my Angel ‚ù§Ô∏è" }
];

const letterText = "Happy Birthday, Mithra üå∏ You are a  kind, caring, and lovable person, and it shows in the way you treat everyone around you. Your friendly nature, calm smile, and positive presence make moments lighter and  more comfortable üòä‚ú® It‚Äôs truly nice to see someone who spreads warmth so naturally. Wishing you a year filled with happiness, peace, good health, and many beautiful moments üéÇü§ç May you keep shining just the way you are.";

/* --- AUDIO --- */
const audio = document.getElementById('bgm');
let isPlaying = false;

function toggleMusic() {
  if (isPlaying) { audio.pause(); } else { audio.play(); }
  isPlaying = !isPlaying;
}

/* --- NAVIGATION --- */
function goTo(screenId) {
  document.querySelectorAll('.screen').forEach(s => {
    s.classList.remove('active');
    s.classList.add('hidden');
  });
  
  const target = document.getElementById(screenId);
  target.classList.remove('hidden');
  target.classList.add('active');

  // Trigger specific actions based on screen
  if(screenId === 'screen-gift') {
    if(!isPlaying) { audio.play(); isPlaying = true; }
  }
  if(screenId === 'screen-letter') {
    typeWriterEffect();
  }
}

/* --- GIFT LOGIC --- */
function openGift() {
  const box = document.getElementById('giftbox');
  box.classList.add('shake');
  setTimeout(() => {
    fireConfetti();
    goTo('screen-cake');
  }, 1500);
}

/* --- CAKE LOGIC --- */
function blowCandle() {
  const flame = document.getElementById('flame');
  const wishText = document.getElementById('wish-text');
  
  flame.classList.add('out');
  fireConfetti();
  
  wishText.innerHTML = "‚ú® Wish Granted! ‚ú®";
  
  setTimeout(() => {
    goTo('screen-letter');
  }, 3000);
}

/* --- TYPEWRITER --- */
function typeWriterEffect() {
  const el = document.getElementById('typewriter');
  el.innerHTML = "";
  let i = 0;
  const speed = 50; 
  
  function type() {
    if (i < letterText.length) {
      el.innerHTML += letterText.charAt(i);
      i++;
      setTimeout(type, speed);
    }
  }
  type();
}

/* --- GALLERY LOGIC --- */
let photoIndex = 0;
function nextPhoto() {
  photoIndex++;
  if (photoIndex >= photos.length) {
    goTo('screen-end');
    return;
  }
  
  const img = document.getElementById('photo-img');
  const cap = document.getElementById('photo-caption');
  
  // Fade out effect manually or just swap (simple swap for responsiveness)
  img.style.opacity = 0;
  setTimeout(() => {
    img.src = photos[photoIndex].src;
    cap.innerText = photos[photoIndex].text;
    img.style.opacity = 1;
    
    // Random rotation for fun
    const rot = Math.random() * 6 - 3; 
    document.querySelector('.polaroid-container').style.transform = `rotate(${rot}deg)`;
  }, 300);
}

/* --- CONFETTI ENGINE (Simple Vanilla JS) --- */
const canvasC = document.getElementById('canvas-confetti');
const ctxC = canvasC.getContext('2d');
canvasC.width = window.innerWidth;
canvasC.height = window.innerHeight;

let particles = [];

function fireConfetti() {
  for(let i=0; i<100; i++) {
    particles.push({
      x: window.innerWidth / 2,
      y: window.innerHeight / 2,
      vx: (Math.random() - 0.5) * 20,
      vy: (Math.random() - 0.5) * 20,
      color: `hsl(${Math.random()*360}, 100%, 70%)`,
      size: Math.random() * 8 + 2,
      life: 100
    });
  }
  animateConfetti();
}

function animateConfetti() {
  if(particles.length === 0) return;
  
  ctxC.clearRect(0,0, canvasC.width, canvasC.height);
  
  for(let i=0; i<particles.length; i++) {
    let p = particles[i];
    p.x += p.vx;
    p.y += p.vy;
    p.vy += 0.5; // gravity
    p.life--;
    
    ctxC.fillStyle = p.color;
    ctxC.fillRect(p.x, p.y, p.size, p.size);
  }
  
  particles = particles.filter(p => p.life > 0);
  requestAnimationFrame(animateConfetti);
}

/* --- BACKGROUND STARS (Canvas) --- */
const canvasBg = document.getElementById('canvas-bg');
const ctxBg = canvasBg.getContext('2d');

let stars = [];
function resizeBg() {
  canvasBg.width = window.innerWidth;
  canvasBg.height = window.innerHeight;
  initStars();
}

function initStars() {
  stars = [];
  for(let i=0; i<100; i++) {
    stars.push({
      x: Math.random() * canvasBg.width,
      y: Math.random() * canvasBg.height,
      r: Math.random() * 2,
      d: Math.random() * 0.5 + 0.1
    });
  }
}

function animateBg() {
  ctxBg.clearRect(0, 0, canvasBg.width, canvasBg.height);
  ctxBg.fillStyle = 'white';
  
  stars.forEach(s => {
    ctxBg.beginPath();
    ctxBg.arc(s.x, s.y, s.r, 0, Math.PI*2);
    ctxBg.fill();
    s.y -= s.d; // Move up
    if(s.y < 0) s.y = canvasBg.height;
  });
  
  requestAnimationFrame(animateBg);
}

window.addEventListener('resize', resizeBg);
resizeBg();
animateBg();

// Force initial screen state
goTo('screen-welcome');

function startCountdown() {
  let count = 3;
  const el = document.getElementById("count-num");

  goTo('screen-countdown');

  const timer = setInterval(() => {
    el.textContent = count;
    count--;

    if (count < 0) {
      clearInterval(timer);
      goTo('screen-gift');
    }
  }, 1000);
}

</script>
</body>
</html>
